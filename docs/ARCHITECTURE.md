# HiveForge ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€HiveForgeã®**ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³**ã‚’èª¬æ˜ã—ã¾ã™ã€‚

> **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å½¹å‰²åˆ†æ‹…**
>
> | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å½¹å‰² | è¨˜è¿°ãƒ¬ãƒ™ãƒ« |
> |---|---|---|
> | [ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md](ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md) | **ãªãœ**: è¨­è¨ˆæ€æƒ³ãƒ»ãƒ“ã‚¸ãƒ§ãƒ³ãƒ»ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ | æ¦‚å¿µãƒ»ãƒ¡ã‚¿ãƒ•ã‚¡ãƒ¼ |
> | [v5-hive-design.md](design/v5-hive-design.md) | **ä½•ã‚’**: è©³ç´°è¨­è¨ˆãƒ»ã‚¹ã‚­ãƒ¼ãƒãƒ»ãƒ—ãƒ­ãƒˆã‚³ãƒ«å®šç¾© | æ­£å¼ãªä»•æ§˜ï¼ˆSingle Source of Truthï¼‰ |
> | **æœ¬æ›¸ (ARCHITECTURE.md)** | **ä»Šã©ã†ãªã£ã¦ã„ã‚‹**: å®Ÿè£…ã®ç¾æ³ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  | å®Ÿè£…ã®äº‹å®Ÿ |
> | [DEVELOPMENT_PLAN_v2.md](DEVELOPMENT_PLAN_v2.md) | **æ¬¡ã«ä½•ã‚’ã™ã‚‹**: é–‹ç™ºè¨ˆç”»ãƒ»ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | ã‚¿ã‚¹ã‚¯ãƒ»å„ªå…ˆåº¦ |
> | [GIT_WORKFLOW.md](GIT_WORKFLOW.md) | **Gité‹ç”¨**: ãƒ–ãƒ©ãƒ³ãƒãƒ»Worktreeãƒ»PRã‚²ãƒ¼ãƒˆ | é‹ç”¨è¦ç´„ |
> | [QUICKSTART.md](QUICKSTART.md) | **ä½¿ã„æ–¹**: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é † | æ‰‹é †æ›¸ |
> | [AGENTS.md](../AGENTS.md) | **é–‹ç™ºåŸå‰‡**: TDD, ã‚³ãƒŸãƒƒãƒˆè¦ç´„ | ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ |
>
> çŠ¶æ…‹æ©Ÿæ¢°ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆå‹ãƒ»é€šä¿¡ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®æ­£å¼å®šç¾©ã¯ [v5-hive-design.md](design/v5-hive-design.md) ã‚’å‚ç…§ã€‚
> æœ¬æ›¸ã¯å®Ÿè£…ã®ç¾æ³ã‚’åæ˜ ã—ã€è¨­è¨ˆã¨ã®ä¹–é›¢ãŒã‚ã‚‹å ´åˆã¯æ˜ç¤ºã—ã¾ã™ã€‚

---

## ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ](#2-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ)
3. [éšå±¤ãƒ¢ãƒ‡ãƒ«ï¼ˆHive/Colonyï¼‰](#3-éšå±¤ãƒ¢ãƒ‡ãƒ«hivecolony)
4. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«](#4-ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«)
5. [APIä»•æ§˜](#5-apiä»•æ§˜)
6. [çŠ¶æ…‹æ©Ÿæ¢°](#6-çŠ¶æ…‹æ©Ÿæ¢°)
7. [ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ](#7-ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ )
8. [å› æœãƒªãƒ³ã‚¯ï¼ˆLineageï¼‰](#8-å› æœãƒªãƒ³ã‚¯lineage)
9. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#9-ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
10. [è¨­å®š](#10-è¨­å®š)
11. [é–‹ç™ºè¨ˆç”»ãƒ»ã‚²ãƒ¼ãƒˆæ¡ä»¶](#11-é–‹ç™ºè¨ˆç”»ã‚²ãƒ¼ãƒˆæ¡ä»¶)
12. [ä»Šå¾Œã®æ‹¡å¼µ](#12-ä»Šå¾Œã®æ‹¡å¼µ)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 åŸºæœ¬æ€æƒ³

HiveForgeã¯ã€Œ**ä¿¡é ¼ã§ãã‚‹éƒ¨å“ã‚’ã€ä¿¡é ¼ã§ãã‚‹çµ„ã¿åˆã‚ã›æ–¹ã‚’ã—ã¦ã€ä¿¡é ¼ã§ãã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚‹**ã€ã¨ã„ã†ç†å¿µã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚

### 1.2 ã‚³ã‚¢åŸå‰‡

- **ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°**: å…¨ã¦ã®çŠ¶æ…‹å¤‰æ›´ã‚’ã‚¤ãƒ™ãƒ³ãƒˆã¨ã—ã¦è¨˜éŒ²
- **ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«**: ã‚¤ãƒ™ãƒ³ãƒˆã¯ä¸€åº¦æ›¸ãè¾¼ã¾ã‚ŒãŸã‚‰å¤‰æ›´ä¸å¯
- **è¿½è·¡å¯èƒ½æ€§**: ä»»æ„ã®æˆæœç‰©ã‹ã‚‰ã€Œãªãœã€ã‚’é¡åŠå¯èƒ½
- **åˆ¶å¾¡å¯èƒ½æ€§**: çŠ¶æ…‹æ©Ÿæ¢°ã«ã‚ˆã‚‹å³å¯†ãªçŠ¶æ…‹ç®¡ç†ã¨ç·Šæ€¥åœæ­¢
- **Fail-Fastï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç¦æ­¢ï¼‰**: æš—é»™ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¯å°å…¥ã—ãªã„ã€‚ã‚¨ãƒ©ãƒ¼ã¯æ—©æœŸã«ä¾‹å¤–ã¨ã—ã¦ä¼æ¬ã•ã›ã€å•é¡Œã®ç™ºè¦‹ã‚’é…ã‚‰ã›ãªã„ï¼ˆè©³ç´°ã¯ [AGENTS.md åŸå‰‡3](../AGENTS.md) ã‚’å‚ç…§ï¼‰

### 1.3 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         VS Code                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  GitHub Copilot  â”‚  â”‚  HiveForge Extension           â”‚   â”‚
â”‚  â”‚      Chat        â”‚  â”‚  â”œâ”€ Hive Monitor (Webview)     â”‚   â”‚
â”‚  â”‚  ï¼ˆå¯¾è©±ãƒ»æ“ä½œï¼‰   â”‚  â”‚  â”œâ”€ ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚° (TreeView)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼             â”‚   â”‚
â”‚           â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ MCP                         â”‚ HTTP
            â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HiveForge MCP Server â”‚    â”‚    HiveForge API Server     â”‚
â”‚  (stdioé€šä¿¡)          â”‚    â”‚    (FastAPI / REST)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆéšå±¤                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Beekeeperï¼ˆé¤Šèœ‚å®¶ / ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼ï¼‰             â”‚  â”‚
â”‚  â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¸»å¯¾è©±ã€è¤‡æ•°Hiveã®çµ±æ‹¬ç®¡ç†           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Hiveï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Sentinel Hornetï¼ˆç›£è¦–ï¼‰                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - æš´èµ°/ãƒ«ãƒ¼ãƒ—/ã‚³ã‚¹ãƒˆè¶…éæ¤œå‡º â†’ å¼·åˆ¶åœæ­¢      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Guard Beeï¼ˆæœ€çµ‚å“è³ªåˆ¤å®šï¼‰                 [M3-3] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - é¸æŠœæ¡ˆã®è¨¼æ‹ ãƒ™ãƒ¼ã‚¹åˆæ ¼/å·®æˆ»ã—åˆ¤å®š              â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Referee Beeï¼ˆè‡ªå‹•æ¡ç‚¹ãƒ»é¸æŠœï¼‰             [M3-5] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - Næ¡ˆå€™è£œã®å¤šé¢çš„ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚° â†’ ä¸Šä½é¸æŠœ        â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Forager Beeï¼ˆæ¢ç´¢çš„ãƒ†ã‚¹ãƒˆï¼‰               [M3-4] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  - å½±éŸ¿ã‚°ãƒ©ãƒ•æ¢ç´¢ãƒ»é•å’Œæ„Ÿæ¤œçŸ¥ â†’ Referee/Guardã¸   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚Colony: UI/UXâ”‚ â”‚Colony: API  â”‚ â”‚Colony:Infraâ”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Queen Bee   â”‚ â”‚ Queen Bee   â”‚ â”‚ Queen Bee  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Worker Beeâ€¦ â”‚ â”‚ Worker Beeâ€¦ â”‚ â”‚ Worker Beeâ€¦â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚         Hive Core            â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
            â”‚  â”‚   Akashic Record (AR)  â”‚  â”‚
            â”‚  â”‚   - ã‚¤ãƒ™ãƒ³ãƒˆæ°¸ç¶šåŒ–     â”‚  â”‚
            â”‚  â”‚   - ãƒãƒƒã‚·ãƒ¥é€£é–       â”‚  â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
            â”‚  â”‚    State Machines      â”‚  â”‚
            â”‚  â”‚   - Run / Task / Req   â”‚  â”‚
            â”‚  â”‚   - Hive / Colony      â”‚  â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
            â”‚  â”‚     Projections        â”‚  â”‚
            â”‚  â”‚   - ã‚¤ãƒ™ãƒ³ãƒˆâ†’çŠ¶æ…‹     â”‚  â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚      Vault (ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ )  â”‚
            â”‚  â””â”€â”€ {run_id}/events.jsonl   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

### 2.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å½¹å‰² | å®Ÿè£…çŠ¶æ³ | æ—¢çŸ¥ã®åˆ¶ç´„ |
|----------------|------|----------|------------|
| **Hive Core** | ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†ãƒ»çŠ¶æ…‹æ©Ÿæ¢°ãƒ»æŠ•å½± | âœ… å®Œäº† | â€” |
| **API Server** | REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | âœ… å®Œäº† | èªè¨¼ã¯æœªæœ‰åŠ¹åŒ– (`auth.enabled: false`) |
| **MCP Server** | Copilot Chaté€£æº | âœ… å®Œäº† | â€” |
| **CLI** | ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ | âœ… å®Œäº† | mypy strictæœªå¯¾å¿œ (M1-3) |
| **Beekeeper** | ãƒ¦ãƒ¼ã‚¶ãƒ¼çª“å£ãƒ»Hiveçµ±æ‹¬ | âœ… M2-2å®Œäº† | â€” |
| **Queen Bee** | Colonyçµ±æ‹¬ãƒ»ã‚¿ã‚¹ã‚¯åˆ†è§£ | âœ… M4-1å®Œäº† | TaskPlannerã«ã‚ˆã‚‹LLMã‚¿ã‚¹ã‚¯åˆ†è§£ï¼‹ä¾å­˜åˆ†æå®Ÿè£…æ¸ˆ |
| **Worker Bee** | ã‚¿ã‚¹ã‚¯å®Ÿè¡Œï¼ˆMCPã‚µãƒ–ãƒ—ãƒ­ã‚»ã‚¹ï¼‰ | âœ… å®Œäº† | â€” |
| **Sentinel Hornet** | Hiveå†…ç›£è¦–ãƒ»ç•°å¸¸æ¤œå‡ºãƒ»å¼·åˆ¶åœæ­¢ | âœ… M3-6å®Œäº† | 7æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ + KPIåŠ£åŒ–æ¤œå‡º + ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯/éš”é›¢ |
| **Honeycomb** | å®Ÿè¡Œå±¥æ­´ãƒ»å­¦ç¿’åŸºç›¤ | âœ… M3-1å®Œäº† | â€” |
| **Swarming Protocol Engine** | ã‚¿ã‚¹ã‚¯é©å¿œçš„Colonyç·¨æˆ | âœ… M3-2å®Œäº† | ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹é¸æŠã€‚å°†æ¥Honeycombãƒ‡ãƒ¼ã‚¿é§†å‹•ã«ç§»è¡Œäºˆå®š |
| **Guard Bee** | Evidence-firstå“è³ªæ¤œè¨¼ | âœ… M3-3å®Œäº† | 2å±¤æ¤œè¨¼(L1/L2)ã€5çµ„è¾¼ãƒ«ãƒ¼ãƒ« |
| **Forager Bee** | æ¢ç´¢çš„ãƒ†ã‚¹ãƒˆãƒ»å½±éŸ¿åˆ†æãƒ»é•å’Œæ„Ÿæ¤œçŸ¥ | âœ… M3-4å®Œäº† | AgentRunnerçµ±åˆæ¸ˆã¿ |
| **Referee Bee** | Næ¡ˆå€™è£œã®å¤šé¢çš„æ¡ç‚¹ãƒ»ç”Ÿå­˜é¸æŠœ | âœ… M3-5å®Œäº† | 5æ¬¡å…ƒã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã€Differential Testingã€ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆ |
| **Scout Bee** | éå»å®Ÿç¸¾ã«åŸºã¥ãç·¨æˆæœ€é©åŒ– | âœ… M3-8å®Œäº† | ç‰¹å¾´é‡ãƒ¬ãƒ³ã‚¸1ã€œ5å›ºå®šä»®å®šã€ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã¯`balanced`å›ºå®š |
| **Waggle Dance** | I/Oæ§‹é€ åŒ–æ¤œè¨¼ | âœ… M3-7å®Œäº† | Pydanticã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã€ARã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ² |
| **LLM Orchestrator** | è‡ªå¾‹çš„ã‚¿ã‚¹ã‚¯åˆ†è§£ãƒ»å®Ÿè¡Œ | âœ… M4-2å®Œäº† | ColonyOrchestratorï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰+ ExecutionPipelineï¼ˆã‚²ãƒ¼ãƒˆçµ±åˆï¼‰ |
| **VS Codeæ‹¡å¼µ** (TreeView) | Activityéšå±¤è¡¨ç¤º | âœ… å®Œäº† | â€” |
| **VS Codeæ‹¡å¼µ** (Hive Monitor) | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ´»å‹•å¯è¦–åŒ– | âœ… å®Œäº† | â€” |
| **VS Codeæ‹¡å¼µ** (ã‚³ãƒãƒ³ãƒ‰) | Hive/Colonyæ“ä½œ | âœ… M2-1å®Œäº† | â€” |
| **ä»‹å…¥ãƒ»ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³** | API/MCPãƒãƒ³ãƒ‰ãƒ© | âœ… å®Œäº† | InterventionStore JSONLæ°¸ç¶šåŒ–ã€ConferenceStore JSONLæ°¸ç¶šåŒ– |
| **GitHub Projection** | ARâ†’GitHub IssueåŒæœŸ | âœ… å®Œäº† | httpx asyncã€MCPçµ±åˆæ¸ˆã¿ |
| **Agent UI** | ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•æ“ä½œMCPã‚µãƒ¼ãƒãƒ¼ | âœ… å®Œäº† | â€” |
| **VLM** | ç”»åƒè§£æãƒ»ç”»é¢èªè­˜ | âœ… å®Œäº† | Stringç”»åƒå…¥åŠ›ã®base64åˆ¤å®šã¯ä»®å®šãƒ™ãƒ¼ã‚¹ |
| **VLM Tester** | Playwright + VLMã«ã‚ˆã‚‹E2Eãƒ†ã‚¹ãƒˆ | âœ… å®Œäº† | â€” |
| **Silence Detector** | æ²ˆé»™æ¤œå‡º | âœ… å®Œäº† | â€” |

> å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è©³ç´°ãªå®Ÿæ…‹ã¨ã‚®ãƒ£ãƒƒãƒ—ã¯ [DEVELOPMENT_PLAN_v2.md](DEVELOPMENT_PLAN_v2.md) Â§1.2 ã‚’å‚ç…§ã€‚
> ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ï¼ˆM1ã€œM5ï¼‰ã®è¨˜å·ã¯åŒè¨ˆç”»ã® Â§3 ã«å¯¾å¿œã€‚

### 2.2 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ä¾å­˜é–¢ä¿‚

```
hiveforge/
â”œâ”€â”€ core/                  # ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆä»–ã‹ã‚‰å‚ç…§ã•ã‚Œã‚‹ï¼‰
â”‚   â”œâ”€â”€ events/           # ã‚¤ãƒ™ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ï¼ˆM3-6ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ï¼‰
â”‚   â”‚   â”œâ”€â”€ base.py           # BaseEvent
â”‚   â”‚   â”œâ”€â”€ types.py          # EventType enum (95ç¨®)
â”‚   â”‚   â”œâ”€â”€ run.py            # Runé–¢é€£ã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ hive.py           # Hive/Colonyé–¢é€£ã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ worker.py         # Worker Beeã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ decision.py       # Decisionã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ operation.py      # Operation Failure/Timeout
â”‚   â”‚   â”œâ”€â”€ guard.py          # Guard Beeã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ pipeline.py       # Pipelineã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ sentinel.py       # Sentinel Hornetã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ waggle.py         # Waggle Danceã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ registry.py       # ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª
â”‚   â”œâ”€â”€ config.py         # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ activity_bus.py   # Activity Bus
â”‚   â”œâ”€â”€ lineage.py        # å› æœãƒªãƒ³ã‚¯
â”‚   â”œâ”€â”€ policy_gate.py    # ãƒãƒªã‚·ãƒ¼ã‚²ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ rate_limiter.py   # ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒã‚¿ãƒ¼
â”‚   â”œâ”€â”€ intervention/     # ä»‹å…¥ãƒ»ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ°¸ç¶šåŒ–
â”‚   â”‚   â”œâ”€â”€ models.py         # ä»‹å…¥ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â””â”€â”€ store.py          # InterventionStore (JSONLæ°¸ç¶šåŒ–)
â”‚   â”œâ”€â”€ models/           # ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ action_class.py
â”‚   â”‚   â””â”€â”€ project_contract.py
â”‚   â”œâ”€â”€ ar/               # Akashic Record
â”‚   â”‚   â”œâ”€â”€ storage.py        # Runæ°¸ç¶šåŒ–
â”‚   â”‚   â”œâ”€â”€ projections.py    # RunçŠ¶æ…‹æŠ•å½±
â”‚   â”‚   â”œâ”€â”€ hive_storage.py   # Hive/Colonyæ°¸ç¶šåŒ–
â”‚   â”‚   â””â”€â”€ hive_projections.py # Hive/ColonyæŠ•å½±
â”‚   â”œâ”€â”€ state/            # çŠ¶æ…‹æ©Ÿæ¢°
â”‚   â”‚   â”œâ”€â”€ machines.py        # Run/Task/Requirement SM
â”‚   â”‚   â”œâ”€â”€ projections.py     # çŠ¶æ…‹æŠ•å½±
â”‚   â”‚   â”œâ”€â”€ colony_progress.py # Colonyé€²æ—è¿½è·¡
â”‚   â”‚   â””â”€â”€ conference.py      # ConferenceçŠ¶æ…‹
â”‚   â”œâ”€â”€ honeycomb/        # å®Ÿè¡Œå±¥æ­´ãƒ»å­¦ç¿’åŸºç›¤ (M3-1)
â”‚   â”‚   â”œâ”€â”€ models.py         # Episode, KPIScoreç­‰
â”‚   â”‚   â”œâ”€â”€ store.py          # EpisodeStore (JSONLæ°¸ç¶šåŒ–)
â”‚   â”‚   â”œâ”€â”€ recorder.py       # EpisodeRecorder
â”‚   â”‚   â””â”€â”€ kpi.py            # KPICalculatorï¼ˆlead_timeä»–ï¼‰
â”‚   â”œâ”€â”€ swarming/         # Swarming Protocol (M3-2)
â”‚   â”‚   â”œâ”€â”€ models.py         # SwarmingFeatures, SwarmingTemplate
â”‚   â”‚   â”œâ”€â”€ engine.py         # SwarmingEngineï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠï¼‰
â”‚   â”‚   â””â”€â”€ templates.py      # 4ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©
â”‚   â””â”€â”€ github/           # GitHub Projectionï¼ˆARâ†’GitHubåŒæœŸï¼‰
â”‚       â”œâ”€â”€ client.py         # httpx async GitHubã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚       â””â”€â”€ projection.py     # SyncStateã€ã‚¤ãƒ™ãƒ³ãƒˆâ†’IssueæŠ•å½±
â”œâ”€â”€ api/                   # REST APIï¼ˆcoreã«ä¾å­˜ï¼‰
â”‚   â”œâ”€â”€ server.py         # FastAPIã‚¢ãƒ—ãƒª
â”‚   â”œâ”€â”€ dependencies.py   # ä¾å­˜æ€§æ³¨å…¥ï¼ˆAppStateï¼‰
â”‚   â”œâ”€â”€ helpers.py        # å¾Œæ–¹äº’æ›ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ models.py         # APIãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ routes/           # ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚       â”œâ”€â”€ runs.py       # Runé–¢é€£
â”‚       â”œâ”€â”€ tasks.py      # Taské–¢é€£
â”‚       â”œâ”€â”€ events.py     # Eventé–¢é€£
â”‚       â”œâ”€â”€ requirements.py # Requirementé–¢é€£
â”‚       â”œâ”€â”€ hives.py      # Hive CRUD
â”‚       â”œâ”€â”€ colonies.py   # Colony CRUD
â”‚       â”œâ”€â”€ activity.py   # Activity API
â”‚       â”œâ”€â”€ conferences.py # Conference API
â”‚       â”œâ”€â”€ interventions.py # Intervention API
â”‚       â””â”€â”€ system.py     # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ç­‰
â”œâ”€â”€ mcp_server/            # MCP Serverï¼ˆcoreã«ä¾å­˜ï¼‰
â”‚   â”œâ”€â”€ server.py
â”‚   â”œâ”€â”€ tools.py          # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â””â”€â”€ handlers/         # ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…
â”œâ”€â”€ beekeeper/             # Beekeeperå±¤ï¼ˆcore, llmã«ä¾å­˜ï¼‰
â”‚   â”œâ”€â”€ server.py         # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ handler.py        # ã‚³ã‚¢ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ session.py        # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â”œâ”€â”€ projection.py     # çŠ¶æ…‹æŠ•å½±
â”‚   â”œâ”€â”€ conference.py     # Conferenceæ©Ÿèƒ½
â”‚   â”œâ”€â”€ conflict.py       # è¡çªæ¤œå‡º
â”‚   â”œâ”€â”€ escalation.py     # ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ resolver.py       # è¡çªè§£æ±º
â”‚   â””â”€â”€ tool_definitions.py # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”œâ”€â”€ queen_bee/             # Queen Beeå±¤ï¼ˆcore, llmã«ä¾å­˜ã€M4å®Ÿè£…æ¸ˆï¼‰
â”‚   â”œâ”€â”€ server.py         # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ planner.py        # TaskPlannerï¼ˆLLMã‚¿ã‚¹ã‚¯åˆ†è§£ãƒ»ä¾å­˜åˆ†æï¼‰(M4-1)
â”‚   â”œâ”€â”€ orchestrator.py   # ColonyOrchestratorï¼ˆå±¤åˆ¥ä¸¦åˆ—å®Ÿè¡Œï¼‰(M4-2)
â”‚   â”œâ”€â”€ pipeline.py       # ExecutionPipelineï¼ˆGuard Bee/æ‰¿èªã‚²ãƒ¼ãƒˆçµ±åˆï¼‰
â”‚   â”œâ”€â”€ context.py        # TaskResult / TaskContextï¼ˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå…±æœ‰ï¼‰(M4-2)
â”‚   â”œâ”€â”€ result.py         # ColonyResult / ColonyResultBuilderï¼ˆçµæœé›†ç´„ï¼‰(M4-2)
â”‚   â”œâ”€â”€ approval.py       # PlanApprovalGateï¼ˆæ‰¿èªåˆ¶å¾¡ï¼‰(M4-1)
â”‚   â”œâ”€â”€ communication.py  # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“é€šä¿¡
â”‚   â”œâ”€â”€ progress.py       # é€²æ—ç®¡ç†
â”‚   â”œâ”€â”€ retry.py          # ãƒªãƒˆãƒ©ã‚¤åˆ¶å¾¡
â”‚   â””â”€â”€ scheduler.py      # Colonyã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼
â”œâ”€â”€ worker_bee/            # Worker Beeå±¤ï¼ˆcore, llmã«ä¾å­˜ï¼‰
â”‚   â”œâ”€â”€ server.py         # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ process.py        # ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ
â”‚   â”œâ”€â”€ projections.py    # æŠ•å½±
â”‚   â”œâ”€â”€ retry.py          # ãƒªãƒˆãƒ©ã‚¤åˆ¶å¾¡
â”‚   â”œâ”€â”€ tools.py          # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â””â”€â”€ trust.py          # Trust Levelåˆ¶å¾¡
â”œâ”€â”€ sentinel_hornet/       # Sentinel Hornet (M2-0 + M3-6)
â”‚   â”œâ”€â”€ __init__.py       # SentinelHornetå…¬é–‹API
â”‚   â””â”€â”€ monitor.py        # 7æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ + KPIåŠ£åŒ– + ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯/éš”é›¢
â”œâ”€â”€ guard_bee/             # Guard Bee (M3-3)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py         # VerificationRequest, VerificationResultç­‰
â”‚   â”œâ”€â”€ rules.py          # 5çµ„è¾¼ãƒ«ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ plan_rules.py     # ãƒ—ãƒ©ãƒ³æ¤œè¨¼ãƒ«ãƒ¼ãƒ«
â”‚   â””â”€â”€ verifier.py       # 2å±¤æ¤œè¨¼ (L1 structural / L2 semantic)
â”œâ”€â”€ forager_bee/           # Forager Bee (M3-4)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py         # ImpactNode, Scenarioç­‰
â”‚   â”œâ”€â”€ graph_builder.py  # å¤‰æ›´å½±éŸ¿ã‚°ãƒ©ãƒ•æ§‹ç¯‰
â”‚   â”œâ”€â”€ scenario_generator.py # ã‚·ãƒŠãƒªã‚ªè‡ªå‹•ç”Ÿæˆ
â”‚   â”œâ”€â”€ explorer.py       # æ¢ç´¢å®Ÿè¡Œï¼ˆAgentRunnerçµ±åˆï¼‰
â”‚   â”œâ”€â”€ anomaly_detector.py   # é•å’Œæ„Ÿæ¤œçŸ¥
â”‚   â””â”€â”€ reporter.py       # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”œâ”€â”€ referee_bee/           # Referee Bee (M3-5)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py         # CandidateSolution, ScoreCardç­‰
â”‚   â”œâ”€â”€ scoring.py        # 5æ¬¡å…ƒã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
â”‚   â”œâ”€â”€ diff_tester.py    # Differential Testing
â”‚   â”œâ”€â”€ tournament.py     # ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆé¸æŠœ
â”‚   â””â”€â”€ reporter.py       # æ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ
â”œâ”€â”€ scout_bee/             # Scout Bee (M3-8)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py         # ScoutProposalç­‰
â”‚   â”œâ”€â”€ matcher.py        # é¡ä¼¼ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰æ¤œç´¢
â”‚   â”œâ”€â”€ analyzer.py       # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæˆåŠŸç‡åˆ†æ
â”‚   â””â”€â”€ scout.py          # æœ€é©åŒ–ææ¡ˆç”Ÿæˆ
â”œâ”€â”€ waggle_dance/          # Waggle Dance (M3-7)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py         # WaggleDanceSchemaç­‰
â”‚   â”œâ”€â”€ validator.py      # Pydanticã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼
â”‚   â””â”€â”€ recorder.py       # ARã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²
â”œâ”€â”€ prompts/               # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé›†ç´„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆè‹±èªåŒ–æ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ __init__.py       # å…¬é–‹APIï¼ˆå…¨å®šæ•°ãƒ»ã‚¯ãƒ©ã‚¹å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰
â”‚   â”œâ”€â”€ agents.py         # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåˆ¥ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”œâ”€â”€ task_decomposition.py # ã‚¿ã‚¹ã‚¯åˆ†è§£ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”œâ”€â”€ vlm.py            # VLMãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ + ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ loader.py         # PromptLoader, PromptTemplate, *Config
â”‚   â””â”€â”€ defaults/         # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆYAML
â”œâ”€â”€ llm/                   # LLMçµ±åˆï¼ˆcoreã«ä¾å­˜ã€LiteLLM SDKçµŒç”±ï¼‰
â”‚   â”œâ”€â”€ client.py         # LLMã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆLiteLLM acompletionï¼‰
â”‚   â”œâ”€â”€ runner.py         # AgentRunner
â”‚   â”œâ”€â”€ tools.py          # LLMãƒ„ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ prompts.py        # å¾Œæ–¹äº’æ›re-exportã‚·ãƒ ï¼ˆâ†’ prompts.agentsï¼‰
â”‚   â””â”€â”€ prompt_config.py  # å¾Œæ–¹äº’æ›re-exportã‚·ãƒ ï¼ˆâ†’ prompts.loaderï¼‰
â”œâ”€â”€ agent_ui/              # Agent UI MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ server.py         # ã‚µãƒ¼ãƒãƒ¼æœ¬ä½“
â”‚   â”œâ”€â”€ session.py        # ãƒ–ãƒ©ã‚¦ã‚¶ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â”œâ”€â”€ tools.py          # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â””â”€â”€ handlers.py       # ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…
â”œâ”€â”€ vlm/                   # VLMï¼ˆç”»åƒè§£æï¼‰
â”‚   â”œâ”€â”€ analyzer.py       # ç”»åƒåˆ†æ
â”‚   â””â”€â”€ ollama_client.py  # Ollamaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”œâ”€â”€ vlm_tester/            # VLM Testerï¼ˆE2Eãƒ†ã‚¹ãƒˆæ”¯æ´ï¼‰
â”‚   â”œâ”€â”€ server.py         # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”œâ”€â”€ playwright_mcp_client.py
â”‚   â”œâ”€â”€ vlm_client.py
â”‚   â”œâ”€â”€ hybrid_analyzer.py
â”‚   â””â”€â”€ ...               # ãã®ä»–åˆ†æãƒ»å®Ÿè¡Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”œâ”€â”€ silence.py             # æ²ˆé»™æ¤œå‡ºï¼ˆcoreã«ä¾å­˜ï¼‰
â””â”€â”€ cli.py                 # CLIï¼ˆapi, mcp_serverã«ä¾å­˜ï¼‰
```

---

## 3. éšå±¤ãƒ¢ãƒ‡ãƒ«ï¼ˆHive/Colonyï¼‰

### 3.1 æ¦‚å¿µ

HiveForgeã¯ãƒ‡ãƒ¼ã‚¿éšå±¤ã¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆéšå±¤ã®2è»¸ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç®¡ç†ã—ã¾ã™ï¼š

```
ã€ãƒ‡ãƒ¼ã‚¿éšå±¤ã€‘                          ã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆéšå±¤ã€‘
Hiveï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰                     Beekeeperï¼ˆHiveçµ±æ‹¬ï¼‰
 â”œâ”€â”€ Colonyï¼ˆå°‚é–€é ˜åŸŸãƒãƒ¼ãƒ ï¼‰             â”œâ”€â”€ Sentinel Hornetï¼ˆç›£è¦–ãƒ»åŸ·è¡Œï¼‰
 â”‚    â”œâ”€â”€ Runï¼ˆå®Ÿè¡Œå˜ä½ï¼‰                â”‚
 â”‚    â”‚    â”œâ”€â”€ Taskï¼ˆå€‹åˆ¥ã‚¿ã‚¹ã‚¯ï¼‰         â”œâ”€â”€ Colony
 â”‚    â”‚    â””â”€â”€ Requirementï¼ˆç¢ºèªè¦è«‹ï¼‰    â”‚    â”œâ”€â”€ Queen Beeï¼ˆColonyçµ±æ‹¬ï¼‰
 â”‚    â””â”€â”€ Run ...                       â”‚    â””â”€â”€ Worker Bee Ã— Nï¼ˆå®Ÿå‹™ï¼‰
 â””â”€â”€ Colony                             â””â”€â”€ Colony ...
```

**ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã®å¯¾å¿œé–¢ä¿‚:**

| ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ | æ“ä½œå¯¾è±¡ | é–¢ä¿‚ |
|---|---|---|
| **Queen Bee** | Colony / Run | Runã‚’Worker Beeã«å‰²ã‚Šå½“ã¦ã€é€²æ—ã‚’çµ±æ‹¬ |
| **Worker Bee** | Run / Task | å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸRunã®Taskã‚’é †æ¬¡å®Ÿè¡Œã—ã€æˆæœç‰©ã‚’å ±å‘Š |
| **Guard Bee** | Taskæˆæœç‰© | Worker Beeã®æˆæœç‰©ã‚’Evidence-firstæ¤œè¨¼ |
| **Forager Bee** | Taskå½±éŸ¿ç¯„å›² | å¤‰æ›´ã®å½±éŸ¿ã‚’æ¢ç´¢çš„ã«ãƒ†ã‚¹ãƒˆ |

### 3.2 Hiveï¼ˆå·£ï¼‰

**å®šç¾©**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’ç®¡ç†ã™ã‚‹æœ€ä¸Šä½ã®çµ„ç¹”å˜ä½

| å±æ€§ | å‹ | èª¬æ˜ |
|------|-----|------|
| `hive_id` | string | ä¸€æ„è­˜åˆ¥å­ï¼ˆULIDï¼‰ |
| `name` | string | Hiveå |
| `description` | string? | èª¬æ˜ |
| `status` | HiveState | `active` \| `idle` \| `closed` |

**çŠ¶æ…‹é·ç§»**ï¼ˆå®Ÿè£…æ¸ˆã¿: `core/ar/projections.py`, `core/state/machines.py`ï¼‰:
```
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  ACTIVE   â”‚â—„â”€â”€â”€â”€ COLONY_CREATED
       â””â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”˜
  COLONY_   â”‚  â”‚ HIVE_CLOSED
  COMPLETED â”‚  â”‚
       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”¼â”€â”€â”€â”
       â”‚  IDLE  â”‚   â”‚
       â””â”€â”€â”€â”€â”¬â”€â”€â”˜   â”‚
  HIVE_     â”‚      â”‚
  CLOSED    â”‚      â”‚
       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”
       â”‚  CLOSED     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `POST /hives` - Hiveä½œæˆ
- `GET /hives` - Hiveä¸€è¦§
- `GET /hives/{hive_id}` - Hiveè©³ç´°
- `POST /hives/{hive_id}/close` - Hiveçµ‚äº†

**MCPãƒ„ãƒ¼ãƒ«**:
- `create_hive` - Hiveä½œæˆ
- `list_hives` - Hiveä¸€è¦§
- `get_hive` - Hiveè©³ç´°
- `close_hive` - Hiveçµ‚äº†

### 3.3 Colonyï¼ˆã‚³ãƒ­ãƒ‹ãƒ¼ï¼‰

**å®šç¾©**: ç‰¹å®šã®ç›®æ¨™ã‚’æŒã¤ä½œæ¥­ã‚°ãƒ«ãƒ¼ãƒ—ã€‚è¤‡æ•°ã®Runã‚’å«ã‚€ã€‚

| å±æ€§ | å‹ | èª¬æ˜ |
|------|-----|------|
| `colony_id` | string | ä¸€æ„è­˜åˆ¥å­ï¼ˆULIDï¼‰ |
| `hive_id` | string | æ‰€å±Hive ID |
| `name` | string | Colonyå |
| `goal` | string? | ç›®æ¨™èª¬æ˜ |
| `status` | ColonyState | `pending` \| `in_progress` \| `completed` \| `failed` \| `suspended` |

**çŠ¶æ…‹é·ç§»**ï¼ˆå®Ÿè£…æ¸ˆã¿: `core/ar/projections.py`, `core/state/machines.py`ï¼‰:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PENDING  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ COLONY_STARTED
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚IN_PROGRESS â”‚â”€â”€â”€â”€â–ºâ”‚ SUSPENDED â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”˜
   â”‚      â”‚              â”‚  â”‚
   â”‚      â”‚    (å†é–‹)â—„â”€â”€â”€â”€â”˜  â”‚
   â–¼      â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚COMPLETEDâ”‚ â”‚ FAILED â”‚ â”‚ FAILED â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> `SUSPENDED` çŠ¶æ…‹ã¯Sentinel Hornetï¼ˆM2-0ï¼‰ã«ã‚ˆã‚Šè¿½åŠ æ¸ˆã¿ã€‚
> Sentinel ã®ç•°å¸¸æ¤œå‡º â†’ `colony.suspended` ã‚¤ãƒ™ãƒ³ãƒˆ â†’ Colonyä¸€æ™‚åœæ­¢ â†’ Beekeeperåˆ¤æ–­ã§å†é–‹/å¤±æ•—ã€‚

**APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:
- `POST /hives/{hive_id}/colonies` - Colonyä½œæˆ
- `GET /hives/{hive_id}/colonies` - Colonyä¸€è¦§
- `POST /colonies/{colony_id}/start` - Colonyé–‹å§‹
- `POST /colonies/{colony_id}/complete` - Colonyå®Œäº†

**MCPãƒ„ãƒ¼ãƒ«**:
- `create_colony` - Colonyä½œæˆ
- `list_colonies` - Colonyä¸€è¦§
- `start_colony` - Colonyé–‹å§‹
- `complete_colony` - Colonyå®Œäº†

### 3.4 Run-Colonyç´ä»˜ã‘

ã‚¤ãƒ™ãƒ³ãƒˆã«ã¯`colony_id`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚ã‚Šã€Runã‚’Colonyã«ç´ä»˜ã‘ã¾ã™ï¼š

```python
class BaseEvent(BaseModel):
    colony_id: str | None = None  # æ‰€å±Colony ID
```

`RunColonyProjection`ãŒColonyâ†’Runã®ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’ç®¡ç†ã—ã€`ColonyProgressTracker`ãŒRunå®Œäº†æ™‚ã«Colonyã®è‡ªå‹•å®Œäº†åˆ¤å®šã‚’è¡Œã„ã¾ã™ã€‚

### 3.5 Worker Bee â€” Run/Task ã®é–¢ä¿‚

Worker Beeã¯Colonyã«æ‰€å±ã—ã€Queen Beeã‹ã‚‰**Runå˜ä½**ã§ä½œæ¥­ã‚’å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ï¼š

```
Queen Bee â”€â”€assignâ”€â”€â–¶ Worker Bee â”€â”€executeâ”€â”€â–¶ Run
                                                 â”œâ”€â”€ Task 1 âœ…
                                                 â”œâ”€â”€ Task 2 ğŸ”„
                                                 â””â”€â”€ Task 3 â³
```

- **å‰²ã‚Šå½“ã¦**: `worker.assigned` ã‚¤ãƒ™ãƒ³ãƒˆã§ Worker Bee ã« Run ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã‚‹ï¼ˆ`payload.run_id`, `payload.worker_id`ï¼‰
- **Taskå®Ÿè¡Œ**: Worker Bee ã¯ Run å†…ã® Task ã‚’é †æ¬¡å®Ÿè¡Œã—ã€`task.assigned` â†’ `task.completed` / `task.failed` ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’é§†å‹•
- **å ±å‘Š**: å„ Task ã®æˆæœç‰©ï¼ˆdiff, ãƒ†ã‚¹ãƒˆçµæœï¼‰ã‚’ `worker.completed` ã‚¤ãƒ™ãƒ³ãƒˆã§ Queen Bee ã«å ±å‘Š
- **Næ¡ˆä¸¦åˆ—**: åŒä¸€ Run ã«å¯¾ã—è¤‡æ•°ã® Worker Bee ã‚’å‰²ã‚Šå½“ã¦ã€Referee Bee ã«ã‚ˆã‚‹é¸æŠœã‚’è¡Œã†ã“ã¨ã‚‚å¯èƒ½

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### 4.1 BaseEventï¼ˆã‚¤ãƒ™ãƒ³ãƒˆåŸºåº•ã‚¯ãƒ©ã‚¹ï¼‰

ã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆã®åŸºåº•ã¨ãªã‚‹ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªãƒ¢ãƒ‡ãƒ«:

```python
class BaseEvent(BaseModel):
    model_config = {"frozen": True}  # ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«
    
    id: str                    # ULIDå½¢å¼ã®ã‚¤ãƒ™ãƒ³ãƒˆID
    type: EventType            # ã‚¤ãƒ™ãƒ³ãƒˆç¨®åˆ¥
    timestamp: datetime        # ç™ºç”Ÿæ™‚åˆ»ï¼ˆUTCï¼‰
    run_id: str | None         # é–¢é€£ã™ã‚‹Runã®ID
    task_id: str | None        # é–¢é€£ã™ã‚‹Taskã®ID
    colony_id: str | None      # é–¢é€£ã™ã‚‹Colonyã®IDï¼ˆv5è¿½åŠ ï¼‰
    actor: str                 # ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿè€…
    payload: dict[str, Any]    # ã‚¤ãƒ™ãƒ³ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰
    prev_hash: str | None      # å‰ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒƒã‚·ãƒ¥ï¼ˆãƒã‚§ãƒ¼ãƒ³ç”¨ï¼‰
    parents: list[str]         # è¦ªã‚¤ãƒ™ãƒ³ãƒˆã®IDï¼ˆå› æœãƒªãƒ³ã‚¯ç”¨ï¼‰
    
    @computed_field
    def hash(self) -> str:     # JCSæ­£è¦åŒ– + SHA-256
        ...
```

### 4.2 ã‚¤ãƒ™ãƒ³ãƒˆå‹ä¸€è¦§

ä¸»è¦ãªã‚¤ãƒ™ãƒ³ãƒˆå‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ï¼ˆå…¨é‡ã¯ `core/events/types.py` ã® `EventType` enum ã‚’å‚ç…§ï¼‰:

| ã‚«ãƒ†ã‚´ãƒª | ã‚¤ãƒ™ãƒ³ãƒˆå‹ | èª¬æ˜ |
|----------|------------|------|
| **Run** | `run.started` | Runé–‹å§‹ |
| | `run.completed` / `run.failed` / `run.aborted` | Runçµ‚äº†ç³» |
| **Task** | `task.created` / `task.assigned` / `task.progressed` | Taské€²è¡Œç³» |
| | `task.completed` / `task.failed` / `task.blocked` / `task.unblocked` | Taskçµ‚äº†ç³» |
| **Requirement** | `requirement.created` / `requirement.approved` / `requirement.rejected` | ç¢ºèªè¦è«‹ |
| **Hive/Colony** | `hive.created` / `hive.closed` | Hiveãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« |
| | `colony.created` / `colony.started` / `colony.suspended` / `colony.completed` / `colony.failed` | Colonyãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« |
| **Conference** | `conference.started` / `conference.ended` | ä¼šè­°ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« |
| **Decision** | `decision.proposal.created` / `decision.recorded` / `decision.applied` / `decision.superseded` | æ„æ€æ±ºå®š |
| **Conflict** | `conflict.detected` / `conflict.resolved` | Colonyé–“è¡çª |
| **Intervention** | `intervention.user_direct` / `intervention.queen_escalation` / `intervention.beekeeper_feedback` | ç›´æ¥ä»‹å…¥ãƒ»ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ |
| **Worker** | `worker.assigned` / `worker.started` / `worker.progress` / `worker.completed` / `worker.failed` | Worker Beeå®Ÿè¡Œ |
| **Operation** | `operation.timeout` / `operation.failed` | æ¨™æº–å¤±æ•—ãƒ»ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ |
| **Sentinel Hornet** | `sentinel.alert_raised` / `sentinel.report` | åŸºæœ¬ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»ãƒ¬ãƒãƒ¼ãƒˆ (M2-0) |
| | `sentinel.rollback` / `sentinel.quarantine` / `sentinel.kpi_degradation` | åŸ·è¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ (M3-6) |
| **Guard Bee** | `guard.verification_requested` / `guard.passed` / `guard.conditional_passed` / `guard.failed` | Evidence-firstæ¤œè¨¼ (M3-3) |
| **Waggle Dance** | `waggle_dance.validated` / `waggle_dance.violation` | I/Oæ§‹é€ åŒ–æ¤œè¨¼ (M3-7) |
| **Pipeline** | `pipeline.started` / `pipeline.completed` | å®Ÿè¡Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ |
| | `plan.validation_failed` / `plan.approval_required` / `plan.fallback_activated` | ãƒ—ãƒ©ãƒ³æ¤œè¨¼ãƒ»æ‰¿èªãƒ»ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| **LLM** | `llm.request` / `llm.response` | LLMé€£æº |
| **System** | `system.heartbeat` / `system.error` / `system.silence_detected` / `system.emergency_stop` | ã‚·ã‚¹ãƒ†ãƒ  |
| **Unknown** | ï¼ˆä»»æ„ã®æ–‡å­—åˆ—ï¼‰ | å‰æ–¹äº’æ›ç”¨ï¼ˆ`UnknownEvent`ã¨ã—ã¦èª­ã¿è¾¼ã¿ï¼‰ |

> å…¨95 EventTypeã€‚ã‚¤ãƒ™ãƒ³ãƒˆå‹ã®æ­£å¼ãªã‚¹ã‚­ãƒ¼ãƒå®šç¾©ãƒ»payloadä»•æ§˜ã¯ [v5-hive-design.md Â§3](design/v5-hive-design.md) ã‚’å‚ç…§ã€‚

### 4.3 RunProjectionï¼ˆçŠ¶æ…‹æŠ•å½±ï¼‰

ã‚¤ãƒ™ãƒ³ãƒˆã‹ã‚‰å°å‡ºã•ã‚Œã‚‹ç¾åœ¨çŠ¶æ…‹:

```python
class RunProjection:
    id: str                           # Run ID
    goal: str                         # ç›®æ¨™
    state: RunState                   # çŠ¶æ…‹
    started_at: datetime | None       # é–‹å§‹æ™‚åˆ»
    completed_at: datetime | None     # å®Œäº†æ™‚åˆ»
    tasks: dict[str, TaskProjection]  # ã‚¿ã‚¹ã‚¯ä¸€è¦§
    requirements: dict[str, RequirementProjection]  # è¦ä»¶ä¸€è¦§
    event_count: int                  # ã‚¤ãƒ™ãƒ³ãƒˆæ•°
    last_heartbeat: datetime | None   # æœ€çµ‚ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆ
```

### 4.4 TaskProjection

```python
class TaskProjection:
    id: str
    title: str
    state: TaskState        # pending/assigned/in_progress/completed/failed/blocked
    progress: int           # 0-100
    assignee: str | None
    retry_count: int
    created_at: datetime
```

---

## 5. APIä»•æ§˜

### 5.1 REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### System

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/health` | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ |

#### Runs

| Method | Path | èª¬æ˜ |
|--------|------|------|
| POST | `/runs` | Runé–‹å§‹ |
| GET | `/runs` | Runä¸€è¦§å–å¾— |
| GET | `/runs/{run_id}` | Runè©³ç´°å–å¾— |
| POST | `/runs/{run_id}/complete` | Runå®Œäº† |
| POST | `/runs/{run_id}/emergency-stop` | ç·Šæ€¥åœæ­¢ |
| POST | `/runs/{run_id}/heartbeat` | ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆé€ä¿¡ |

##### Runå®Œäº†ã®è©³ç´°

`POST /runs/{run_id}/complete` ã¯æœªå®Œäº†ã‚¿ã‚¹ã‚¯ãŒã‚ã‚‹å ´åˆã¯400ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£:**
```json
{ "force": true }  // ã‚ªãƒ—ã‚·ãƒ§ãƒ³
```

**å‹•ä½œ:**
- `force=false`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰: æœªå®Œäº†ã‚¿ã‚¹ã‚¯ãŒã‚ã‚Œã°ã‚¨ãƒ©ãƒ¼
- `force=true`: æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€æœªè§£æ±ºã®ç¢ºèªè¦è«‹ã‚’è‡ªå‹•å´ä¸‹

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:**
```json
{
  "status": "completed",
  "run_id": "01HZZ...",
  "cancelled_task_ids": ["01HZZ..."],
  "cancelled_requirement_ids": ["01HZZ..."]
}
```

##### ç·Šæ€¥åœæ­¢ã®è©³ç´°

`POST /runs/{run_id}/emergency-stop` ã¯Runã‚’å³åº§ã«åœæ­¢ã—ã¾ã™ã€‚

**å‹•ä½œ:**
- æœªå®Œäº†ã‚¿ã‚¹ã‚¯ã‚’å…¨ã¦å¤±æ•—çŠ¶æ…‹ã«
- æœªè§£æ±ºã®ç¢ºèªè¦è«‹ã‚’å…¨ã¦å´ä¸‹
- Runã‚’`ABORTED`çŠ¶æ…‹ã«é·ç§»

#### Tasks

| Method | Path | èª¬æ˜ |
|--------|------|------|
| POST | `/runs/{run_id}/tasks` | Taskä½œæˆ |
| GET | `/runs/{run_id}/tasks` | Taskä¸€è¦§å–å¾— |
| POST | `/runs/{run_id}/tasks/{task_id}/complete` | Taskå®Œäº† |
| POST | `/runs/{run_id}/tasks/{task_id}/fail` | Taskå¤±æ•— |

#### Events

| Method | Path | èª¬æ˜ |
|--------|------|------|
| GET | `/runs/{run_id}/events` | ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§å–å¾— |
| GET | `/runs/{run_id}/events/{event_id}/lineage` | å› æœãƒªãƒ³ã‚¯å–å¾— |

### 5.2 MCP ãƒ„ãƒ¼ãƒ«ä¸€è¦§

| ãƒ„ãƒ¼ãƒ« | èª¬æ˜ | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ |
|--------|------|------------|
| `start_run` | Runé–‹å§‹ | `goal` |
| `get_run_status` | çŠ¶æ…‹å–å¾— | `run_id?` |
| `create_task` | Taskä½œæˆ | `title`, `description?` |
| `assign_task` | Taskå‰²ã‚Šå½“ã¦ | `task_id` |
| `report_progress` | é€²æ—å ±å‘Š | `task_id`, `progress`, `message?` |
| `complete_task` | Taskå®Œäº† | `task_id`, `result?` |
| `fail_task` | Taskå¤±æ•— | `task_id`, `error`, `retryable?` |
| `create_requirement` | è¦ä»¶ä½œæˆ | `description`, `options?` |
| `complete_run` | Runå®Œäº† | `summary?`, `force?` |
| `heartbeat` | ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆ | `message?` |
| `emergency_stop` | ç·Šæ€¥åœæ­¢ | `reason`, `scope?` |
| `get_lineage` | å› æœãƒªãƒ³ã‚¯å–å¾— | `event_id`, `direction?`, `max_depth?` |

---

## 6. çŠ¶æ…‹æ©Ÿæ¢°

Hive/ColonyStateMachine ã¯ Â§3.2, Â§3.3 ã‚’å‚ç…§ã€‚Run/Task/Requirement ã®è©³ç´°ãªé·ç§»ãƒ«ãƒ¼ãƒ«ã¯ [v5-hive-design.md Â§2](design/v5-hive-design.md) ã«æ­£å¼å®šç¾©ãŒã‚ã‚Šã¾ã™ã€‚

ä»¥ä¸‹ã¯å®Ÿè£…æ¸ˆã¿ã®çŠ¶æ…‹æ©Ÿæ¢°ã®æ¦‚è¦ã§ã™ï¼ˆ`core/state/machines.py`ï¼‰:

### 6.1 RunStateMachine

```
RUNNING â†’ COMPLETED | FAILED | ABORTED
```

### 6.2 TaskStateMachine

```
PENDING â†’ ASSIGNED â†’ IN_PROGRESS â†’ COMPLETED | FAILED
                                  â†’ BLOCKED â†’ IN_PROGRESS (å¾©å¸°)
```

### 6.3 RequirementStateMachine

```
PENDING â†’ APPROVED | REJECTED
```

---

## 7. ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ 

### 7.1 ã‚¤ãƒ™ãƒ³ãƒˆæ°¸ç¶šåŒ–

ã‚¤ãƒ™ãƒ³ãƒˆã¯JSONLå½¢å¼ã§ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½è¨˜ä¿å­˜:

```
Vault/
â””â”€â”€ {run_id}/
    â””â”€â”€ events.jsonl    # 1è¡Œ1ã‚¤ãƒ™ãƒ³ãƒˆ
```

### 7.2 ãƒãƒƒã‚·ãƒ¥é€£é–

å„ã‚¤ãƒ™ãƒ³ãƒˆã¯å‰ã®ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒãƒƒã‚·ãƒ¥ã‚’ä¿æŒã—ã€æ”¹ã–ã‚“æ¤œçŸ¥ã‚’å¯èƒ½ã«:

```
event[0] â”€hashâ”€â–¶ event[1] â”€hashâ”€â–¶ event[2] â”€hashâ”€â–¶ ...
           â”‚              â”‚              â”‚
        prev_hash      prev_hash      prev_hash
```

### 7.3 ãƒãƒƒã‚·ãƒ¥è¨ˆç®—

1. ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‹ã‚‰`hash`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é™¤å¤–
2. JCS (RFC 8785) ã§æ­£è¦åŒ–
3. SHA-256ã§ãƒãƒƒã‚·ãƒ¥è¨ˆç®—

```python
def compute_hash(data: dict[str, Any]) -> str:
    data_for_hash = {k: v for k, v in data.items() if k != "hash"}
    data_for_hash = _serialize_value(data_for_hash)  # datetimeç­‰ã‚’å¤‰æ›
    canonical = jcs.canonicalize(data_for_hash)
    return hashlib.sha256(canonical).hexdigest()
```

---

## 8. å› æœãƒªãƒ³ã‚¯ï¼ˆLineageï¼‰

### 8.1 æ¦‚è¦

å„ã‚¤ãƒ™ãƒ³ãƒˆã¯`parents`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§è¦ªã‚¤ãƒ™ãƒ³ãƒˆã‚’å‚ç…§ã—ã€å› æœé–¢ä¿‚ã‚’è¨˜éŒ²:

```python
class TaskCreatedEvent(BaseEvent):
    parents: list[str] = ["run_started_event_id"]  # è¦ªã‚¤ãƒ™ãƒ³ãƒˆã®ID
```

### 8.2 æ¢ç´¢æ–¹å‘

| æ–¹å‘ | èª¬æ˜ | å®Ÿè£…æ–¹å¼ |
|------|------|----------|
| `ancestors` | ç¥–å…ˆï¼ˆè¦ªæ–¹å‘ï¼‰ | `parents[]`ã‚’å†å¸°çš„ã«è¾¿ã‚‹ |
| `descendants` | å­å­«ï¼ˆå­æ–¹å‘ï¼‰ | å…¨ã‚¤ãƒ™ãƒ³ãƒˆèµ°æŸ» |
| `both` | ä¸¡æ–¹å‘ | ä¸Šè¨˜ã®çµ„ã¿åˆã‚ã› |

### 8.3 APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```json
{
  "event_id": "01HZZ...",
  "ancestors": ["01HZY...", "01HZX..."],
  "descendants": ["01J00...", "01J01..."],
  "truncated": false
}
```

### 8.4 åˆ¶é™

- `max_depth`: æ¢ç´¢æ·±åº¦åˆ¶é™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 10ï¼‰
- `truncated`: åˆ¶é™ã«ã‚ˆã‚Šåˆ‡ã‚Šè©°ã‚ã‚‰ã‚ŒãŸå ´åˆ`true`

---

## 9. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### 9.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
HiveForge/
â”œâ”€â”€ src/hiveforge/           # ãƒ¡ã‚¤ãƒ³ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py               # CLIã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ silence.py           # æ²ˆé»™æ¤œå‡º
â”‚   â”œâ”€â”€ core/                # ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ config.py        # è¨­å®šç®¡ç†
â”‚   â”‚   â”œâ”€â”€ events/          # ã‚¤ãƒ™ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ« (95 EventType)
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py          # BaseEvent
â”‚   â”‚   â”‚   â”œâ”€â”€ types.py         # EventType enum
â”‚   â”‚   â”‚   â”œâ”€â”€ run.py           # Run/Task/Requirement
â”‚   â”‚   â”‚   â”œâ”€â”€ hive.py          # Hive/Colony/Conference/Conflict
â”‚   â”‚   â”‚   â”œâ”€â”€ worker.py        # Worker Beeã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ decision.py      # Decisionã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ operation.py     # Failure/Timeout
â”‚   â”‚   â”‚   â”œâ”€â”€ guard.py         # Guard Beeã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ pipeline.py      # Pipelineã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ sentinel.py      # Sentinel Hornetã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ waggle.py        # Waggle Danceã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ github.py        # GitHub Projectionã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ registry.py      # ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒª
â”‚   â”‚   â”œâ”€â”€ activity_bus.py  # Activity Bus
â”‚   â”‚   â”œâ”€â”€ lineage.py       # å› æœãƒªãƒ³ã‚¯
â”‚   â”‚   â”œâ”€â”€ policy_gate.py   # ãƒãƒªã‚·ãƒ¼ã‚²ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ rate_limiter.py  # ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒã‚¿ãƒ¼
â”‚   â”‚   â”œâ”€â”€ intervention/    # ä»‹å…¥ãƒ»ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ°¸ç¶šåŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py        # ä»‹å…¥ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ store.py         # InterventionStore (JSONL)
â”‚   â”‚   â”œâ”€â”€ models/          # ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”‚   â”œâ”€â”€ action_class.py
â”‚   â”‚   â”‚   â””â”€â”€ project_contract.py
â”‚   â”‚   â”œâ”€â”€ ar/              # Akashic Record
â”‚   â”‚   â”‚   â”œâ”€â”€ storage.py       # Runæ°¸ç¶šåŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ projections.py   # RunçŠ¶æ…‹æŠ•å½±
â”‚   â”‚   â”‚   â”œâ”€â”€ hive_storage.py  # Hive/Colonyæ°¸ç¶šåŒ–
â”‚   â”‚   â”‚   â””â”€â”€ hive_projections.py # Hive/ColonyæŠ•å½±
â”‚   â”‚   â”œâ”€â”€ state/           # çŠ¶æ…‹æ©Ÿæ¢°
â”‚   â”‚   â”‚   â”œâ”€â”€ machines.py       # Run/Task/Requirement SM
â”‚   â”‚   â”‚   â”œâ”€â”€ projections.py    # çŠ¶æ…‹æŠ•å½±
â”‚   â”‚   â”‚   â”œâ”€â”€ colony_progress.py # Colonyé€²æ—è¿½è·¡
â”‚   â”‚   â”‚   â””â”€â”€ conference.py     # ConferenceçŠ¶æ…‹
â”‚   â”‚   â”œâ”€â”€ honeycomb/       # å®Ÿè¡Œå±¥æ­´ãƒ»å­¦ç¿’åŸºç›¤ (M3-1)
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py        # Episode, KPIScoreç­‰
â”‚   â”‚   â”‚   â”œâ”€â”€ store.py         # EpisodeStore (JSONLæ°¸ç¶šåŒ–)
â”‚   â”‚   â”‚   â”œâ”€â”€ recorder.py      # EpisodeRecorder
â”‚   â”‚   â”‚   â””â”€â”€ kpi.py           # KPICalculator
â”‚   â”‚   â””â”€â”€ swarming/        # Swarming Protocol (M3-2)
â”‚   â”‚       â”œâ”€â”€ models.py        # SwarmingFeatures, Template
â”‚   â”‚       â”œâ”€â”€ engine.py        # SwarmingEngine
â”‚   â”‚       â””â”€â”€ templates.py     # 4ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©
â”‚   â”‚   # â”€â”€â”€â”€ ä»¥ä¸‹ã¯ core/github/ â”€â”€â”€â”€
â”‚   â”‚   # github/            # GitHub Projectionï¼ˆÂ§2.2ã«è¨˜è¼‰ï¼‰
â”‚   â”œâ”€â”€ api/                 # REST API
â”‚   â”‚   â”œâ”€â”€ server.py        # FastAPIã‚¢ãƒ—ãƒª
â”‚   â”‚   â”œâ”€â”€ dependencies.py  # ä¾å­˜æ€§æ³¨å…¥ï¼ˆAppStateï¼‰
â”‚   â”‚   â”œâ”€â”€ helpers.py       # å¾Œæ–¹äº’æ›ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ models.py        # APIãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â””â”€â”€ routes/          # ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚       â”œâ”€â”€ runs.py
â”‚   â”‚       â”œâ”€â”€ tasks.py
â”‚   â”‚       â”œâ”€â”€ events.py
â”‚   â”‚       â”œâ”€â”€ requirements.py
â”‚   â”‚       â”œâ”€â”€ hives.py         # Hive CRUD
â”‚   â”‚       â”œâ”€â”€ colonies.py      # Colony CRUD
â”‚   â”‚       â”œâ”€â”€ activity.py      # Activity API
â”‚   â”‚       â”œâ”€â”€ conferences.py   # Conference API
â”‚   â”‚       â”œâ”€â”€ interventions.py # Intervention API
â”‚   â”‚       â””â”€â”€ system.py
â”‚   â”œâ”€â”€ mcp_server/          # MCP Server
â”‚   â”‚   â”œâ”€â”€ server.py
â”‚   â”‚   â”œâ”€â”€ tools.py         # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â”‚   â””â”€â”€ handlers/        # ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…
â”‚   â”œâ”€â”€ beekeeper/           # Beekeeperå±¤
â”‚   â”‚   â”œâ”€â”€ server.py        # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ handler.py       # ã‚³ã‚¢ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ session.py       # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ projection.py    # çŠ¶æ…‹æŠ•å½±
â”‚   â”‚   â”œâ”€â”€ conference.py    # Conferenceæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ conflict.py      # è¡çªæ¤œå‡º
â”‚   â”‚   â”œâ”€â”€ escalation.py    # ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ resolver.py      # è¡çªè§£æ±º
â”‚   â”‚   â””â”€â”€ tool_definitions.py # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ queen_bee/           # Queen Beeå±¤ (M4å®Ÿè£…æ¸ˆ)
â”‚   â”‚   â”œâ”€â”€ server.py        # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ planner.py       # TaskPlannerï¼ˆLLMã‚¿ã‚¹ã‚¯åˆ†è§£ï¼‰(M4-1)
â”‚   â”‚   â”œâ”€â”€ orchestrator.py  # ColonyOrchestratorï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰(M4-2)
â”‚   â”‚   â”œâ”€â”€ pipeline.py      # ExecutionPipelineï¼ˆã‚²ãƒ¼ãƒˆçµ±åˆï¼‰
â”‚   â”‚   â”œâ”€â”€ context.py       # TaskResult / TaskContext (M4-2)
â”‚   â”‚   â”œâ”€â”€ result.py        # ColonyResult / ColonyResultBuilder (M4-2)
â”‚   â”‚   â”œâ”€â”€ approval.py      # PlanApprovalGateï¼ˆæ‰¿èªåˆ¶å¾¡ï¼‰(M4-1)
â”‚   â”‚   â”œâ”€â”€ communication.py # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“é€šä¿¡
â”‚   â”‚   â”œâ”€â”€ progress.py      # é€²æ—ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ retry.py         # ãƒªãƒˆãƒ©ã‚¤åˆ¶å¾¡
â”‚   â”‚   â””â”€â”€ scheduler.py     # Colony ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼
â”‚   â”œâ”€â”€ worker_bee/          # Worker Beeå±¤
â”‚   â”‚   â”œâ”€â”€ server.py        # MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ process.py       # ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ
â”‚   â”‚   â”œâ”€â”€ projections.py   # æŠ•å½±
â”‚   â”‚   â”œâ”€â”€ retry.py         # ãƒªãƒˆãƒ©ã‚¤åˆ¶å¾¡
â”‚   â”‚   â”œâ”€â”€ tools.py         # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â”‚   â””â”€â”€ trust.py         # Trust Levelåˆ¶å¾¡
â”‚   â”œâ”€â”€ sentinel_hornet/     # Sentinel Hornet (M2-0 + M3-6)
â”‚   â”‚   â””â”€â”€ monitor.py       # 7ãƒ‘ã‚¿ãƒ¼ãƒ³ + KPIåŠ£åŒ– + ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯/éš”é›¢
â”‚   â”œâ”€â”€ guard_bee/           # Guard Bee (M3-3)
â”‚   â”‚   â”œâ”€â”€ models.py        # VerificationRequest/Result
â”‚   â”‚   â”œâ”€â”€ rules.py         # 5çµ„è¾¼ãƒ«ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ plan_rules.py    # ãƒ—ãƒ©ãƒ³æ¤œè¨¼ãƒ«ãƒ¼ãƒ«
â”‚   â”‚   â””â”€â”€ verifier.py      # 2å±¤æ¤œè¨¼ (L1/L2)
â”‚   â”œâ”€â”€ forager_bee/         # Forager Bee (M3-4)
â”‚   â”‚   â”œâ”€â”€ models.py        # ImpactNode, Scenarioç­‰
â”‚   â”‚   â”œâ”€â”€ graph_builder.py # å¤‰æ›´å½±éŸ¿ã‚°ãƒ©ãƒ•
â”‚   â”‚   â”œâ”€â”€ scenario_generator.py # ã‚·ãƒŠãƒªã‚ªç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ explorer.py      # æ¢ç´¢å®Ÿè¡Œ
â”‚   â”‚   â”œâ”€â”€ anomaly_detector.py   # é•å’Œæ„Ÿæ¤œçŸ¥
â”‚   â”‚   â””â”€â”€ reporter.py      # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”‚   â”œâ”€â”€ referee_bee/         # Referee Bee (M3-5)
â”‚   â”‚   â”œâ”€â”€ models.py        # ScoreCard, Tournamentç­‰
â”‚   â”‚   â”œâ”€â”€ scoring.py       # 5æ¬¡å…ƒã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
â”‚   â”‚   â”œâ”€â”€ diff_tester.py   # Differential Testing
â”‚   â”‚   â”œâ”€â”€ tournament.py    # ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆé¸æŠœ
â”‚   â”‚   â””â”€â”€ reporter.py      # æ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ scout_bee/           # Scout Bee (M3-8)
â”‚   â”‚   â”œâ”€â”€ models.py        # ScoutProposalç­‰
â”‚   â”‚   â”œâ”€â”€ matcher.py       # é¡ä¼¼ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰æ¤œç´¢
â”‚   â”‚   â”œâ”€â”€ analyzer.py      # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæˆåŠŸç‡åˆ†æ
â”‚   â”‚   â””â”€â”€ scout.py         # æœ€é©åŒ–ææ¡ˆ
â”‚   â”œâ”€â”€ waggle_dance/        # Waggle Dance (M3-7)
â”‚   â”‚   â”œâ”€â”€ models.py        # WaggleDanceSchemaç­‰
â”‚   â”‚   â”œâ”€â”€ validator.py     # Pydanticã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼
â”‚   â”‚   â””â”€â”€ recorder.py      # ARã‚¤ãƒ™ãƒ³ãƒˆè¨˜éŒ²
â”‚   â”œâ”€â”€ prompts/             # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé›†ç´„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆè‹±èªåŒ–æ¸ˆã¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ __init__.py      # å…¬é–‹APIï¼ˆå…¨å®šæ•°ãƒ»ã‚¯ãƒ©ã‚¹å†ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰
â”‚   â”‚   â”œâ”€â”€ agents.py        # ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåˆ¥ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ task_decomposition.py # ã‚¿ã‚¹ã‚¯åˆ†è§£ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
â”‚   â”‚   â”œâ”€â”€ vlm.py           # VLMãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ + ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”‚   â”œâ”€â”€ loader.py        # PromptLoader, PromptTemplate, *Config
â”‚   â”‚   â””â”€â”€ defaults/        # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆYAML
â”‚   â”œâ”€â”€ llm/                 # LLMçµ±åˆï¼ˆLiteLLM SDKçµŒç”±ï¼‰
â”‚   â”‚   â”œâ”€â”€ client.py        # LLMã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆLiteLLM acompletionï¼‰
â”‚   â”‚   â”œâ”€â”€ runner.py        # AgentRunner
â”‚   â”‚   â”œâ”€â”€ tools.py         # LLMãƒ„ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ prompts.py       # å¾Œæ–¹äº’æ›re-exportã‚·ãƒ ï¼ˆâ†’ prompts.agentsï¼‰
â”‚   â”‚   â””â”€â”€ prompt_config.py # å¾Œæ–¹äº’æ›re-exportã‚·ãƒ ï¼ˆâ†’ prompts.loaderï¼‰
â”‚   â”œâ”€â”€ agent_ui/            # Agent UI MCPã‚µãƒ¼ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ server.py        # ã‚µãƒ¼ãƒãƒ¼æœ¬ä½“
â”‚   â”‚   â”œâ”€â”€ session.py       # ãƒ–ãƒ©ã‚¦ã‚¶ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tools.py         # ãƒ„ãƒ¼ãƒ«å®šç¾©
â”‚   â”‚   â””â”€â”€ handlers.py      # ãƒãƒ³ãƒ‰ãƒ©ãƒ¼å®Ÿè£…
â”‚   â”œâ”€â”€ vlm/                 # VLMï¼ˆç”»åƒè§£æï¼‰
â”‚   â”‚   â”œâ”€â”€ analyzer.py      # ç”»åƒåˆ†æ
â”‚   â”‚   â””â”€â”€ ollama_client.py # Ollamaã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â””â”€â”€ vlm_tester/          # VLM Testerï¼ˆE2Eãƒ†ã‚¹ãƒˆæ”¯æ´ï¼‰
â”‚       â”œâ”€â”€ server.py        # MCPã‚µãƒ¼ãƒãƒ¼
â”‚       â”œâ”€â”€ playwright_mcp_client.py
â”‚       â”œâ”€â”€ vlm_client.py
â”‚       â”œâ”€â”€ hybrid_analyzer.py
â”‚       â”œâ”€â”€ action_executor.py
â”‚       â”œâ”€â”€ local_analyzers.py
â”‚       â”œâ”€â”€ screen_capture.py
â”‚       â””â”€â”€ vlm_providers.py
â”œâ”€â”€ tests/                   # Pythonãƒ†ã‚¹ãƒˆï¼ˆ`pytest` ã§ä»¶æ•°ç¢ºèªï¼‰
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_*.py            # å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¯¾å¿œãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ e2e/                 # E2Eãƒ†ã‚¹ãƒˆ
â”‚       â”œâ”€â”€ test_hiveforge_visual.py
â”‚       â”œâ”€â”€ test_hiveforge_extension.py
â”‚       â””â”€â”€ test_hive_flow.py
â”œâ”€â”€ vscode-extension/        # VS Codeæ‹¡å¼µ
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ extension.ts
â”‚       â”œâ”€â”€ client.ts        # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚       â”œâ”€â”€ commands/        # ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”œâ”€â”€ hiveCommands.ts
â”‚       â”‚   â”œâ”€â”€ colonyCommands.ts
â”‚       â”‚   â”œâ”€â”€ runCommands.ts
â”‚       â”‚   â”œâ”€â”€ taskCommands.ts
â”‚       â”‚   â”œâ”€â”€ requirementCommands.ts
â”‚       â”‚   â”œâ”€â”€ decisionCommands.ts
â”‚       â”‚   â””â”€â”€ filterCommands.ts
â”‚       â”œâ”€â”€ providers/       # TreeViewãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚       â”œâ”€â”€ views/           # Webviewãƒ‘ãƒãƒ«
â”‚       â”‚   â”œâ”€â”€ dashboardPanel.ts
â”‚       â”‚   â”œâ”€â”€ hiveMonitorPanel.ts
â”‚       â”‚   â”œâ”€â”€ hiveTreeView.ts
â”‚       â”‚   â”œâ”€â”€ agentMonitorPanel.ts
â”‚       â”‚   â””â”€â”€ requirementDetailView.ts
â”‚       â”œâ”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ test/            # ãƒ†ã‚¹ãƒˆ
â”‚           â”œâ”€â”€ client.test.ts
â”‚           â”œâ”€â”€ colonyCommands.test.ts
â”‚           â”œâ”€â”€ hiveCommands.test.ts
â”‚           â”œâ”€â”€ html.test.ts
â”‚           â”œâ”€â”€ vscode-mock.ts
â”‚           â””â”€â”€ vscode-shim.ts
â”œâ”€â”€ docs/                    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ARCHITECTURE.md
â”‚   â”œâ”€â”€ DEVELOPMENT_PLAN_v2.md
â”‚   â”œâ”€â”€ QUICKSTART.md
â”‚   â”œâ”€â”€ VLM_TESTER.md
â”‚   â”œâ”€â”€ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md
â”‚   â”œâ”€â”€ design/              # è©³ç´°è¨­è¨ˆ
â”‚   â”‚   â””â”€â”€ v5-hive-design.md
â”‚   â””â”€â”€ archive/             # æ—§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ Vault/                   # ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ï¼ˆgitignoreï¼‰
â”œâ”€â”€ AGENTS.md                # AIé–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ pyproject.toml           # Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ hiveforge.config.yaml    # å®Ÿè¡Œæ™‚è¨­å®š
â”œâ”€â”€ docker-compose.yml       # Dockerè¨­å®š
â””â”€â”€ Dockerfile
```

### 9.2 Vaultæ§‹é€ 

```
Vault/
â”œâ”€â”€ {run_id}/                # Runå˜ä½ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ï¼ˆv4äº’æ›ï¼‰
â”‚   â””â”€â”€ events.jsonl         # 1è¡Œ1ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆJSONLå½¢å¼ï¼‰
â”œâ”€â”€ hive-{hive_id}/          # Hiveé–¢é€£ã‚¤ãƒ™ãƒ³ãƒˆ
â”‚   â””â”€â”€ events.jsonl
â”œâ”€â”€ meta-decisions/          # æ„æ€æ±ºå®šãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ events.jsonl
â””â”€â”€ ...                      # ä»Šå¾Œæ‹¡å¼µäºˆå®šï¼ˆâ†’ M1-1 ARç§»è¡Œï¼‰
```

> **è¨­è¨ˆã¨ã®å·®ç•°**: [v5-hive-design.md Â§4](design/v5-hive-design.md) ã§ã¯ `Vault/hives/{hive_id}/colonies/{colony_id}/` éšå±¤ã‚’å®šç¾©ã—ã¦ã„ã‚‹ãŒã€
> ç¾åœ¨ã®å®Ÿè£…ã¯ä¸Šè¨˜ã®ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ ã€‚M1-1ï¼ˆARç§»è¡Œï¼‰å®Œäº†æ¸ˆã¿ã ãŒã€éšå±¤åŒ–ã¯å°å…¥ã›ãšç¾çŠ¶ç¶­æŒã€‚

---

## 10. è¨­å®š

### 10.1 hiveforge.config.yaml

```yaml
hive:
  name: "poc-project"
  vault_path: "./Vault"

governance:
  max_retries: 3              # ã‚¿ã‚¹ã‚¯ã®æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°
  max_oscillations: 5         # çŠ¶æ…‹æŒ¯å‹•æ¤œå‡ºé–¾å€¤
  max_concurrent_tasks: 10    # åŒæ™‚å®Ÿè¡Œã‚¿ã‚¹ã‚¯æ•°ä¸Šé™
  task_timeout_seconds: 300   # ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰
  heartbeat_interval_seconds: 30  # ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆé–“éš”
  approval_timeout_hours: 24  # æ‰¿èªå¾…ã¡ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
  archive_after_days: 7       # ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ—¥æ•°

llm:
  provider: "openai"              # LiteLLMå¯¾å¿œãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
  model: "gpt-4o"                 #   openai, anthropic, ollama, ollama_chat,
  api_key_env: "OPENAI_API_KEY"   #   groq, deepseek, litellm_proxy ç­‰
  max_tokens: 4096
  temperature: 0.2
  # api_base: ""                  # Ollama/Proxyç”¨ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  # num_retries: 3                # LiteLLMãƒªãƒˆãƒ©ã‚¤å›æ•°
  # fallback_models: []           # ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å…ˆ

auth:
  enabled: false              # APIèªè¨¼ï¼ˆPOCã§ã¯ç„¡åŠ¹ï¼‰
  api_key_env: "HIVEFORGE_API_KEY"

server:
  host: "0.0.0.0"
  port: 8000

logging:
  level: "INFO"
  events_max_file_size_mb: 100
```

### 10.2 ç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|--------|------|------------|
| `HIVEFORGE_VAULT_PATH` | Vaultãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ‘ã‚¹ | `./Vault` |
| `OPENAI_API_KEY` | OpenAI APIã‚­ãƒ¼ | - |
| `ANTHROPIC_API_KEY` | Anthropic APIã‚­ãƒ¼ï¼ˆAnthropicä½¿ç”¨æ™‚ï¼‰ | - |
| `HIVEFORGE_API_KEY` | HiveForge APIèªè¨¼ã‚­ãƒ¼ | - |
| `LITELLM_PROXY_KEY` | LiteLLM Proxyèªè¨¼ã‚­ãƒ¼ï¼ˆProxyä½¿ç”¨æ™‚ï¼‰ | - |

---

## 11. é–‹ç™ºè¨ˆç”»ãƒ»ã‚²ãƒ¼ãƒˆæ¡ä»¶

### 11.1 æ¦‚è¦

é–‹ç™ºã®é€²æ—ç®¡ç†ã¯ãƒ•ã‚§ãƒ¼ã‚ºãƒ™ãƒ¼ã‚¹ã‹ã‚‰ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãƒ™ãƒ¼ã‚¹ã«ç§»è¡Œã—ã¾ã—ãŸã€‚
è©³ç´°ã¯ [DEVELOPMENT_PLAN_v2.md](DEVELOPMENT_PLAN_v2.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### 11.2 ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | ç›®æ¨™ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|---------------|------|----------|
| M1: åŸºç›¤å›ºã‚ | ARç§»è¡Œã€ã‚¹ã‚¿ãƒ–è§£æ¶ˆ | âœ… å®Œäº†ï¼ˆM1-1, M1-2ï¼‰ |
| M2: æ¥ç¶š | Sentinel Hornetã€VS Codeâ†”APIã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–“E2Eã€LiteLLMã€GitHub Projection | âœ… å®Œäº†ï¼ˆM2-0ã€œM2-4å…¨å®Œäº†ï¼‰ |
| M3: é©å¿œçš„å”èª¿ | Honeycomb, Swarming, Guard Bee, Forager Bee, Referee Bee, Sentinelæ‹¡å¼µ, Waggle Dance, Scout Bee | âœ… å®Œäº†ï¼ˆM3-1ã€œM3-8å…¨å®Œäº†ï¼‰ |
| M4: è‡ªå¾‹ | LLMã‚¿ã‚¹ã‚¯åˆ†è§£ã€Orchestrator | âœ… å®Œäº†ï¼ˆM4-1, M4-2ï¼‰ |
| M5: é‹ç”¨å“è³ª | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€CI/CDã€KPIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | ğŸ”„ M5-1/M5-2åŸºç›¤/M5-3å®Œäº†ã€M5-4ã€œM5-6æœªç€æ‰‹ |

### 11.3 ã‚²ãƒ¼ãƒˆæ¡ä»¶

ä»¥ä¸‹ã¯å„ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€šéã«å¿…è¦ãªè¦ä»¶ã‚²ãƒ¼ãƒˆã§ã™:

| ID | æ¡ä»¶ | æ¤œè¨¼æ–¹æ³• | çŠ¶æ…‹ |
|----|------|----------|------|
| G-01 | Colonyé–“è¡çªæ¤œå‡ºãŒå®Ÿè£…æ¸ˆã¿ | `CONFLICT_DETECTED` ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œå¯èƒ½ | âœ… |
| G-02 | è¡çªè§£æ±ºãƒ—ãƒ­ãƒˆã‚³ãƒ«ãŒå®šç¾©æ¸ˆã¿ | `CONFLICT_RESOLVED` ã‚¤ãƒ™ãƒ³ãƒˆã¨ãƒãƒ¼ã‚¸ãƒ«ãƒ¼ãƒ« | âœ… |
| G-03 | æ¨™æº–å¤±æ•—ç†ç”±ã®åˆ†é¡ãŒå®Œäº† | `FailureReason` enum ã®ä½¿ç”¨ | âœ… |
| G-04 | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ¤œå‡ºãŒå®Ÿè£…æ¸ˆã¿ | `OPERATION_TIMEOUT` ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ | âœ… |
| G-05 | Action ClassãŒå®Ÿè£…æ¸ˆã¿ | `ActionClass`, `TrustLevel` ã«ã‚ˆã‚‹åˆ†é¡ | âœ… |
| G-06 | ç¢ºèªè¦æ±‚ãƒãƒˆãƒªã‚¯ã‚¹ãŒå®šç¾©æ¸ˆã¿ | `requires_confirmation()` é–¢æ•° | âœ… |
| G-07 | Conference ãƒ¢ãƒ¼ãƒ‰ãŒå‹•ä½œ | `CONFERENCE_STARTED/ENDED` ã‚¤ãƒ™ãƒ³ãƒˆ | âœ… |
| G-08 | Hive/ColonyãŒARæ°¸ç¶šåŒ– | ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•å¾Œã‚‚ãƒ‡ãƒ¼ã‚¿ç¶­æŒ | âœ… (M1-1) |
| G-09 | Beekeeperã®å…¨ãƒãƒ³ãƒ‰ãƒ©ãŒå®Ÿè£… | TODOã‚¹ã‚¿ãƒ–ãŒã‚¼ãƒ­ | âœ… (M1-2) |
| G-10 | E2Eã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒã‚§ãƒ¼ãƒ³ãŒå‹•ä½œ | Beekeeperâ†’Queenâ†’Workerå®Œèµ° | âœ… (M2-2) |
| G-11 | LLMã‚¿ã‚¹ã‚¯åˆ†è§£ãŒå‹•ä½œ | æŠ½è±¡ç›®æ¨™â†’è¤‡æ•°ã‚¿ã‚¹ã‚¯è‡ªå‹•åˆ†è§£ | âœ… (M4-1) |

---

## 12. ä»Šå¾Œã®æ‹¡å¼µ

### 12.1 ä¸»è¦ãªè¨ˆç”»

- [x] Worker Bee: MCPã‚µãƒ–ãƒ—ãƒ­ã‚»ã‚¹ãƒ™ãƒ¼ã‚¹ã®Worker
- [x] Queen Beeé€£æº: ã‚¿ã‚¹ã‚¯å‰²ã‚Šå½“ã¦ã€é€²æ—é›†ç´„ã€ãƒªãƒˆãƒ©ã‚¤
- [x] Colonyå„ªå…ˆåº¦: é™çš„è¨­å®šãƒ™ãƒ¼ã‚¹ã®ãƒªã‚½ãƒ¼ã‚¹é…åˆ†
- [x] Honeycomb: å®Ÿè¡Œå±¥æ­´ãƒ»å­¦ç¿’åŸºç›¤ (M3-1) âœ…
- [x] Swarming Protocol Engine: ã‚¿ã‚¹ã‚¯é©å¿œçš„Colonyç·¨æˆ (M3-2) âœ…
- [x] Guard Bee: Evidence-firstå“è³ªæ¤œè¨¼ (M3-3) âœ…
- [x] Forager Bee: æ¢ç´¢çš„ãƒ†ã‚¹ãƒˆãƒ»å½±éŸ¿åˆ†æã€Œé•å’Œæ„Ÿæ¤œçŸ¥ã€ (M3-4) âœ…
- [x] Referee Bee: Næ¡ˆå¤šé¢çš„æ¡ç‚¹ãƒ»ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆé¸æŠœ (M3-5) âœ…
- [x] Sentinel Hornetæ‹¡å¼µ: KPIåŠ£åŒ–æ¤œå‡º + ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯/éš”é›¢ (M3-6) âœ…
- [x] Waggle Dance: I/Oæ§‹é€ åŒ–æ¤œè¨¼ (M3-7) âœ…
- [x] Scout Bee: éå»å®Ÿç¸¾ã«åŸºã¥ãç·¨æˆæœ€é©åŒ– (M3-8) âœ…
- [x] Queen Bee ã‚¿ã‚¹ã‚¯åˆ†è§£: LLMã‚¿ã‚¹ã‚¯åˆ†è§£å®Ÿè£… (M4-1) âœ…
- [x] LLM Orchestrator: è‡ªå¾‹çš„ãªã‚¿ã‚¹ã‚¯åˆ†è§£ãƒ»å®Ÿè¡Œ (M4-2) âœ…
- [ ] Artifactç®¡ç†: æˆæœç‰©ã®ä¿å­˜ã¨å‚ç…§
- [ ] å› æœãƒªãƒ³ã‚¯ã®è‡ªå‹•è¨­å®šï¼ˆ[Issue #001](issues/001-lineage-auto-parents.md)ï¼‰
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆç½²å: æ”¹ã–ã‚“è€…ã®ç‰¹å®š

### 12.2 VS Codeæ‹¡å¼µã®æ‹¡å……

- [x] Hive Monitor: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ´»å‹•å¯è¦–åŒ–ï¼ˆWebviewï¼‰
- [x] TreeView: Activity Hierarchy APIé€£å‹•
- [ ] å› æœã‚°ãƒ©ãƒ•å¯è¦–åŒ–ï¼ˆWebviewï¼‰
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆãƒªãƒ¼ãƒ 

### 12.3 ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

- [ ] ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£åˆ¥ãƒã‚§ãƒ¼ãƒ³ï¼ˆä¸¦åˆ—æ›¸ãè¾¼ã¿å¯¾å¿œï¼‰
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
- [ ] åˆ†æ•£ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å¯¾å¿œ

### 12.4 Planeåˆ†é›¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆM5/M6æ§‹æƒ³ï¼‰

ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹å®Ÿè¡Œç’°å¢ƒã«ã‚ˆã‚Šã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è‡ªå‹•åŒ–ã¨å®‰å…¨æ€§ã‚’ä¸¡ç«‹ã™ã‚‹ã€‚
è©³ç´°ã¯ [ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md Â§9.4](ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md) ã‚’å‚ç…§ã€‚

- [ ] Step 1: docker compose æœ€å°æ§‹æˆï¼ˆPlaneæ¦‚å¿µã®å°å…¥ï¼‰
- [ ] Step 2: Worker ã‚¨ãƒ•ã‚§ãƒ¡ãƒ©ãƒ«ã‚³ãƒ³ãƒ†ãƒŠåŒ–ï¼ˆExecution Planeåˆ†é›¢ï¼‰
- [ ] Step 3: Guard Bee / Sentinel Hornet ç‹¬ç«‹ã‚³ãƒ³ãƒ†ãƒŠåŒ–ï¼ˆSafety Planeåˆ†é›¢ï¼‰
- [ ] Step 4: git worktree é‹ç”¨åŸºç›¤ï¼ˆColony Ã— worktreeï¼‰ â€” è¦ç´„ç­–å®šæ¸ˆã¿: [GIT_WORKFLOW.md](GIT_WORKFLOW.md)
- [ ] Step 5: æœ¬ç•ªã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆK8s / ECSï¼‰

**Action Class Ã— ã‚³ãƒ³ãƒ†ãƒŠåˆ†é›¢**:

| Action Class | åˆ†é›¢ãƒ¬ãƒ™ãƒ« |
|-------------|-----------|
| Read-only | å…±æœ‰Runner + git worktree (read-only) |
| Reversible | ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä»˜ãWorkspaceã‚³ãƒ³ãƒ†ãƒŠ |
| Irreversible | å°‚ç”¨éš”é›¢ã‚³ãƒ³ãƒ†ãƒŠ + äººé–“æ‰¿èªå¿…é ˆ |

---

## å‚ç…§

- [DEVELOPMENT_PLAN_v2.md](DEVELOPMENT_PLAN_v2.md) - é–‹ç™ºè¨ˆç”»ï¼ˆé€²æ—ã®æ­£ï¼‰
- [v5-hive-design.md](design/v5-hive-design.md) - è©³ç´°è¨­è¨ˆï¼ˆSingle Source of Truthï¼‰
- [QUICKSTART.md](QUICKSTART.md) - å‹•ä½œç¢ºèªæ‰‹é †
- [AGENTS.md](../AGENTS.md) - AIé–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- [GIT_WORKFLOW.md](GIT_WORKFLOW.md) - Gitãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¦ç´„ï¼ˆãƒ–ãƒ©ãƒ³ãƒãƒ»Worktreeãƒ»PRã‚²ãƒ¼ãƒˆï¼‰
- [ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md](ã‚³ãƒ³ã‚»ãƒ—ãƒˆ_v6.md) - è¨­è¨ˆæ€æƒ³ï¼ˆæœ€æ–°ç‰ˆï¼‰
